<!DOCTYPE html>
<html>
<head>
    <title>Compressor de Arquivos</title>
    <style>
       
    body {
      font-family: "Lucida Console", Courier, monospace;
      margin: 0;
      padding: 20px;
      background-image: url(pictures/fundo-site-home.webp);
    }

    .container {
      max-width: 600px;
      margin: 0 auto;
      border: 2px solid #3498db; /* Cor da borda (azul) */
      border-radius: 8px;
      padding: 20px;
      background-color: #fff; /* Cor de fundo (branco) */
    }

    h1 {
      text-align: center; 
      margin-bottom: 60px;
    }

    #fileInput {
      display: block;
      margin: 20px auto; /* Centralizar o input horizontalmente */
      padding: 10px;
      background-color: #ffffff; /* Cor de fundo (branco) */
      border: 2px solid #3498db; /* Cor da borda (azul) */
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
    }

    #fileInput:hover {
      background-color: #f2f2f2; /* Cor de fundo quando hover (cinza mais claro) */
    }

    #compressButton {
      display: block;
      margin: 20px auto; /* Centralizar o botão de compressão horizontalmente */
      padding: 10px 20px;
      background-color: #3498db; /* Cor do botão (azul) */
      color: white; /* Cor do texto do botão */
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
    }

    #compressButton:hover {
      background-color: #2980b9; /* Cor do botão quando hover (azul mais escuro) */
    }

    #downloadLink {
      display: none;
      text-align: center;
      margin-top: 20px;
      color: #3498db; /* Cor do link de download (azul) */
      text-decoration: none;
    }

    #downloadLink:hover {
      text-decoration: underline; /* Sublinhar o link quando hover */
    }

    #loading {
      display: none;
      text-align: center;
      margin-top: 20px;
      font-size: 16px;
      color: #3498db; /* Cor do texto do loading (azul) */
    }

    .benefits {
  text-align: center;
  margin: 40px 0;
}

.cards {
  display: flex;
  justify-content: center;
}

.card {
  width: 300px; 
  margin: 0 10px;
  padding: 20px;
  border: 1px solid #0893ac;
} 

.card img {
  width: 100px;
  margin: 0 auto 10px;
}

.card h3 {
  margin-bottom: 10px; 
}

footer {
  position: fixed; /* ou "absolute" se preferir */
  bottom: 0;
  width: 80%;
  padding: 10px;
  text-align: left;
}

        
    </style>
</head>
<body>
    
  </section>
    <div class="container">
        <h1>Compressor de Arquivos</h1>
        <input type="file" id="fileInput" />
        <button id="compressButton">Comprimir</button>
        <a id="downloadLink">Baixar Arquivo Comprimido</a>
    </div>

    <section class="benefits">

      <h2>Benefícios da Compactação de Arquivos</h2>
    
      <div class="cards">
    
        <div class="card">
          <img src="pictures/velocidade.png" /> 
          <h3>Velocidade</h3>
          <p>Arquivos compactados são transferidos e baixados muito mais rápido.</p>
        </div>
    
        <div class="card">
          <img src="pictures/economia.png" />
          <h3>Economia de Espaço</h3>
          <p>A compactação reduz o tamanho dos arquivos, economizando espaço em disco.</p> 
        </div>
    
        <div class="card">
          <img src="pictures/compartilhar.jpg" />
          <h3>Compartilhamento</h3>
          <p>Arquivos compactados são mais fáceis de compartilhar por email ou internet.</p>
        </div>
      
      </div>
    
    </section>
    <script>

const maxFileSize = 5 * 1024 * 1024; // 5MB

        document.getElementById('compressButton').addEventListener('click', () => {

  const fileInput = document.getElementById('fileInput');
  const file = fileInput.files[0];

  // Validar arquivo  
  if(!file) {
    alert('Por favor, selecione um arquivo');
    return;
  }

  // Validar tamanho
  if(file.size > maxFileSize) {
    alert('O arquivo deve ter no máximo ' + maxFileSize + ' bytes');
    return;
  }
  
  // Loading 
  const loading = document.getElementById('loading');
  loading.style.display = 'block';

  // Código de compressão

  loading.style.display = 'none';

});

    // Confirmação de download
    document.getElementById('downloadLink').addEventListener('click', e => {
    if(confirm('Confirma download?')) {
     
  // Permitir
} else {
      e.preventDefault(); // Cancelar
    }
  });


        document.getElementById('compressButton').addEventListener('click', () => {
          const fileInput = document.getElementById('fileInput');
          const file = fileInput.files[0];

          if (file) {
            const reader = new FileReader();

            reader.onload = function () {
              const fileContent = new Uint8Array(reader.result);
              const compressedData = pako.gzip(fileContent);

              const compressedFile = new Blob([compressedData], { type: 'application/gzip' });

              const downloadLink = document.getElementById('downloadLink');
              downloadLink.href = URL.createObjectURL(compressedFile);
              downloadLink.download = file.name + '.gz';
              downloadLink.style.display = 'block';
            };

            reader.readAsArrayBuffer(file);
          }
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.0.3/pako.min.js"></script>
</body>
<footer>
  @EduardoMF - 2023
</footer>

</html>